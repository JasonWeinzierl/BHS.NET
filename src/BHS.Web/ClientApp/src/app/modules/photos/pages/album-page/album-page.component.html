@if (vm$ | async; as vm) {
    @if (vm.isLoading) {
      <div class="d-flex justify-content-center">
        <div class="spinner-grow text-light" role="status">
          <span class="visually-hidden">Loading photo...</span>
        </div>
      </div>
    }

    @if (vm.album) {
      <div class="card">
        <div class="card-header">
          <div class="text-center row">
            <div class="col-2">
              <a class="btn btn-secondary" [routerLink]="['/apps/photos/album', vm.album.slug, 'photo', vm.previousPhotoId]">&laquo; Previous</a>
            </div>
            <div class="col-8">
              Album: <a [routerLink]="['/apps/photos/album', vm.album.slug]">{{vm.album.name}}</a>
              @if (vm.album.blogPostSlug) {
                <br>
                <a [routerLink]="['/apps/blog/entry', vm.album.blogPostSlug]">Blog Post</a>
              }
            </div>
            <div class="col-2">
              <a class="btn btn-secondary" [routerLink]="['/apps/photos/album', vm.album.slug, 'photo', vm.nextPhotoId]">Next &raquo;</a>
            </div>
          </div>
        </div>

        @if (vm.currentPhoto) {
          <img [ngSrc]="vm.currentPhoto.imagePath" [title]="vm.currentPhoto.name" class="card-img-top img-fluid" alt="image failed to load" width="100" height="100">
        }

        @if (vm.currentPhoto) {
          <div class="card-body">
            <h2 class="card-title">
              {{vm.currentPhoto.name}}
            </h2>
            @if (vm.currentPhoto.description) {
              <p class="card-text">{{vm.currentPhoto.description}}</p>
            }
          </div>
        }

        <div class="card-footer">
          <div class="text-center row">
            <div class="col-2">
              <a class="btn btn-secondary" [routerLink]="['/apps/photos/album', vm.album.slug, 'photo', vm.previousPhotoId]">&laquo; Previous</a>
            </div>
            <div class="col-8">
              <a [routerLink]="['/apps/photos/album', vm.album.slug]">{{vm.album.name}}</a>
            </div>
            <div class="col-2">
              <a class="btn btn-secondary" [routerLink]="['/apps/photos/album', vm.album.slug, 'photo', vm.nextPhotoId]">Next &raquo;</a>
            </div>
          </div>
        </div>
      </div>
    }

    @if (vm.error) {
      <alert type="danger">
        {{vm.error}}
      </alert>
    }
}
