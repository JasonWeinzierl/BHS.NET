<ng-container *ngIf="vm$ | async as vm">
  <div class="card">

    <div class="card-body">
      <h1 class="card-title">Edit Entry</h1>

      <alert *ngIf="vm.error" type="danger">{{vm.error}}</alert>

      <div *ngIf="vm.isLoading" class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%"
          area-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
      </div>

      <app-edit-blog-entry-form *ngIf="!vm.isLoading && !vm.error && vm.initialPost" (publish)="onPublish($event)"
        [initialPost]="vm.initialPost" [allCategories]="vm.categories"></app-edit-blog-entry-form>
    </div>

    <div *ngIf="vm.initialPost" class="card-footer">
      Last Modified: <app-date [datetime]="vm.initialPost.dateLastModified"></app-date>
    </div>

  </div>
</ng-container>
